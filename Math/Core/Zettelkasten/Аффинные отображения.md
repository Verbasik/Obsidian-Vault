## Суть

**Аффинное подпространство** — это подмножество аффинного пространства (или векторного пространства), получаемое сдвигом векторного подпространства на некоторый вектор. Формально:

$$
U = x_0 + V = \{ x_0 + v \mid v \in V \}
$$

где $x_0$ — точка (частное решение), $V$ — векторное подпространство (называемое **направлением** или **подпространством направлений**).

Геометрически: прямая или плоскость (не обязательно проходящая через начало координат). Аффинные подпространства — это множества решений систем линейных уравнений $Ax = b$.

---

## Детали

### Определение

Аффинное подпространство $U$ векторного пространства $V$ имеет вид:

$$
U = x_0 + V_0 = \{ x_0 + v \mid v \in V_0 \}
$$

где:

- $x_0 \in V$ — **опорная точка** (support point)
- $V_0 \subseteq V$ — **векторное подпространство** (направление)

### Параметризация

Пусть $\{ b_1, \ldots, b_k \}$ — базис подпространства $V_0$. Тогда аффинное подпространство параметризуется как:

$$
U =
\left\{
x_0 + \sum_{i=1}^k \lambda_i b_i
\mid
\lambda_i \in \mathbb{R}
\right\}
$$

**Размерность** аффинного подпространства:
$$
\dim(U) = \dim(V_0) = k
$$

### Неоднозначность представления

**Важно**: представление $U = x_0 + V_0$ **не уникально**!

Любая точка из $U$ может быть опорной:

$$
U = x_0 + V_0 = x_1 + V_0 = x_2 + V_0 = \ldots
$$

для любых $x_0, x_1, x_2, \ldots \in U$.

Однако подпространство направлений $V_0$ **уникально** для данного $U$.

### Связь с решениями линейных систем

Множество решений неоднородной системы $Ax = b$ образует аффинное подпространство:

$$
\{ x \in \mathbb{R}^n \mid Ax = b \}
=
x_p + \mathrm{Ker}(A)
$$

где:

- $x_p$ — **частное решение** ($Ax_p = b$)
- $\mathrm{Ker}(A) = \{ x \mid Ax = \mathbf{0} \}$ — **подпространство направлений**

### Параллельность

Два аффинных подпространства
$U_1 = x_1 + V_1$ и
$U_2 = x_2 + V_2$
называются **параллельными**, если $V_1 = V_2$.

Параллельные аффинные подпространства либо **совпадают**, либо **не пересекаются**.

---

## Примеры

### Геометрические примеры в $\mathbb{R}^2$ и $\mathbb{R}^3$

**0-мерные**: отдельные точки  
Например: $\{ (1, 2) \}$

**1-мерные** (прямые):

$$
U =
\begin{bmatrix}
1 \cr
2
\end{bmatrix}
+
\mathrm{span}
\left\{
\begin{bmatrix}
1 \cr
1
\end{bmatrix}
\right\}
$$

— прямая с направлением $(1, 1)$, проходящая через $(1, 2)$.

**2-мерные** (плоскости в $\mathbb{R}^3$):

$$
U =
\begin{bmatrix}
0 \cr
0 \cr
1
\end{bmatrix}
+
\mathrm{span}
\left\{
\begin{bmatrix}
1 \cr
0 \cr
0
\end{bmatrix},
\begin{bmatrix}
0 \cr
1 \cr
0
\end{bmatrix}
\right\}
$$

— плоскость $z = 1$.

### Решения системы уравнений

Система:

$$
\begin{cases}
x_1 + x_2 + x_3 = 3 \\
x_1 - x_2 + 2x_3 = 2
\end{cases}
$$

Частное решение (например):

$$
x_p =
\begin{bmatrix}
1 \cr
1 \cr
1
\end{bmatrix}
$$

Общее решение однородной системы:

$$
\mathrm{Ker}(A)
=
\mathrm{span}
\left\{
\begin{bmatrix}
-3 \cr
1 \cr
1
\end{bmatrix}
\right\}
$$

Аффинное подпространство решений:

$$
U =
\begin{bmatrix}
1 \cr
1 \cr
1
\end{bmatrix}
+
\lambda
\begin{bmatrix}
-3 \cr
1 \cr
1
\end{bmatrix},
\quad
\lambda \in \mathbb{R}
$$

Это **прямая** в $\mathbb{R}^3$ (1-мерное аффинное подпространство).

### Параллельные прямые

$$
U_1 =
\begin{bmatrix}
0 \cr
0
\end{bmatrix}
+
\mathrm{span}
\left\{
\begin{bmatrix}
1 \cr
1
\end{bmatrix}
\right\}
$$

$$
U_2 =
\begin{bmatrix}
1 \cr
0
\end{bmatrix}
+
\mathrm{span}
\left\{
\begin{bmatrix}
1 \cr
1
\end{bmatrix}
\right\}
$$

Обе прямые имеют одинаковое направление, но разные опорные точки.

$$
U_1 \cap U_2 = \varnothing
$$

---

## Источник

- Документ: [[Математика в машинном обучении.pdf]]
- Раздел/страницы: раздел 2.8.1, стр. 83–84 (ориентировочно)
- Ключевая идея: сдвиг векторного подпространства

---

## Вопросы

- Как найти подпространство направлений для заданного аффинного подпространства?
- Всегда ли пересечение двух аффинных подпространств является аффинным подпространством?
- Как определить расстояние между параллельными аффинными подпространствами?
- В каких задачах оптимизации возникают аффинные подпространства?
- Как визуализировать высокоразмерные аффинные подпространства?