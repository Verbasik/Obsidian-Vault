## Суть

**Ассоциативность умножения матриц** — это фундаментальное свойство, утверждающее, что для любых трёх матриц $A$, $B$ и $C$ (при согласованных размерах) порядок группировки операций не влияет на результат:

$$
(AB)C = A(BC)
$$

Это свойство имеет критическое значение для теории исключения Гаусса: оно позволяет объединять элементарные матрицы в произведение $L$ и утверждать, что композиция преобразований однозначна независимо от порядка вычислений.

---

## Детали

### Формулировка свойства

Для матриц $A \in \mathbb{R}^{m \times n}$, $B \in \mathbb{R}^{n \times p}$ и $C \in \mathbb{R}^{p \times q}$:

$$
(AB)C = A(BC)
$$

**Размеры**:
- $(AB)C$: сначала $(m \times n)(n \times p) = m \times p$, затем $(m \times p)(p \times q) = m \times q$;
- $A(BC)$: сначала $(n \times p)(p \times q) = n \times q$, затем $(m \times n)(n \times q) = m \times q$.

Оба выражения дают матрицу размера $m \times q$.

### Доказательство через элементы

Рассмотрим элемент в позиции $(i, j)$.

**Левая часть** $(AB)C$:
$$
[(AB)C]_{ij} = \sum_{k=1}^p [AB]_{ik} \cdot c_{kj} = \sum_{k=1}^p \left(\sum_{\ell=1}^n a_{i\ell} b_{\ell k}\right) c_{kj}
$$

$$
= \sum_{k=1}^p \sum_{\ell=1}^n a_{i\ell} b_{\ell k} c_{kj}
$$

**Правая часть** $A(BC)$:
$$
[A(BC)]_{ij} = \sum_{\ell=1}^n a_{i\ell} \cdot [BC]_{\ell j} = \sum_{\ell=1}^n a_{i\ell} \left(\sum_{k=1}^p b_{\ell k} c_{kj}\right)
$$

$$
= \sum_{\ell=1}^n \sum_{k=1}^p a_{i\ell} b_{\ell k} c_{kj}
$$

Порядок суммирования можно менять:
$$
\sum_{k=1}^p \sum_{\ell=1}^n = \sum_{\ell=1}^n \sum_{k=1}^p
$$

Следовательно: $(AB)C = A(BC)$ ✓

### Применение к методу исключения

В процессе Гаусса:
$$
E_{32} E_{31} E_{21} A = U
$$

Благодаря ассоциативности, можем группировать по-разному:
$$
(E_{32} E_{31}) E_{21} A = E_{32} (E_{31} E_{21}) A = \cdots
$$

Все варианты дают **один и тот же результат** $U$.

Обращая:
$$
A = E_{21}^{-1} E_{31}^{-1} E_{32}^{-1} U = (E_{21}^{-1} E_{31}^{-1} E_{32}^{-1}) U = LU
$$

где:
$$
L = E_{21}^{-1} E_{31}^{-1} E_{32}^{-1}
$$

— произведение вычислено однозначно.

### Композиция линейных отображений

Если $A$, $B$, $C$ представляют линейные отображения:
- $A: \mathbb{R}^n \to \mathbb{R}^m$
- $B: \mathbb{R}^p \to \mathbb{R}^n$
- $C: \mathbb{R}^q \to \mathbb{R}^p$

То композиция отображений ассоциативна:
$$
(A \circ B) \circ C = A \circ (B \circ C)
$$

Матричное умножение **реализует** композицию линейных отображений.

### Контраст с другими операциями

**Не путать**:
1. **Ассоциативность** ✓: $(AB)C = A(BC)$;
2. **Коммутативность** ✗: $AB \neq BA$ (в общем случае).

**Пример некоммутативности**:
$$
\begin{bmatrix} 1 & 0 \\ 0 & 0 \end{bmatrix}
\begin{bmatrix} 0 & 1 \\ 0 & 0 \end{bmatrix}
= \begin{bmatrix} 0 & 1 \\ 0 & 0 \end{bmatrix}
$$

$$
\begin{bmatrix} 0 & 1 \\ 0 & 0 \end{bmatrix}
\begin{bmatrix} 1 & 0 \\ 0 & 0 \end{bmatrix}
= \begin{bmatrix} 0 & 0 \\ 0 & 0 \end{bmatrix}
$$

Результаты **различны**: $AB \neq BA$.

---

## Примеры

### Пример из книги: проверка ассоциативности

Матрицы:
$$
A = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 1 & 0 & 1 \end{bmatrix}, \quad
B = \begin{bmatrix} 2 & 1 & 1 \\ 0 & -1 & -2 \\ 0 & 0 & 1 \end{bmatrix}, \quad
C = \begin{bmatrix} 4 \\ 1 \\ 0 \end{bmatrix}
$$

**Левая часть** $(AB)C$:

Сначала $AB$:
$$
AB = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 1 & 0 & 1 \end{bmatrix}
\begin{bmatrix} 2 & 1 & 1 \\ 0 & -1 & -2 \\ 0 & 0 & 1 \end{bmatrix}
= \begin{bmatrix} 2 & 1 & 1 \\ 0 & -1 & -2 \\ 2 & 1 & 2 \end{bmatrix}
$$

Затем $(AB)C$:
$$
(AB)C = \begin{bmatrix} 2 & 1 & 1 \\ 0 & -1 & -2 \\ 2 & 1 & 2 \end{bmatrix}
\begin{bmatrix} 4 \\ 1 \\ 0 \end{bmatrix}
= \begin{bmatrix} 9 \\ -1 \\ 9 \end{bmatrix}
$$

**Правая часть** $A(BC)$:

Сначала $BC$:
$$
BC = \begin{bmatrix} 2 & 1 & 1 \\ 0 & -1 & -2 \\ 0 & 0 & 1 \end{bmatrix}
\begin{bmatrix} 4 \\ 1 \\ 0 \end{bmatrix}
= \begin{bmatrix} 9 \\ -1 \\ 0 \end{bmatrix}
$$

Затем $A(BC)$:
$$
A(BC) = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 1 & 0 & 1 \end{bmatrix}
\begin{bmatrix} 9 \\ -1 \\ 0 \end{bmatrix}
= \begin{bmatrix} 9 \\ -1 \\ 9 \end{bmatrix}
$$

**Результат**: $(AB)C = A(BC)$ ✓

### Произведение элементарных матриц

$$
E_1 = \begin{bmatrix} 1 & 0 \\ -2 & 1 \end{bmatrix}, \quad
E_2 = \begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix}, \quad
E_3 = \begin{bmatrix} 1 & 0 \\ -3 & 1 \end{bmatrix}
$$

**Вариант 1**: $(E_3 E_2) E_1$
$$
E_3 E_2 = \begin{bmatrix} 1 & 0 \\ -3 & 1 \end{bmatrix}
\begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix}
= \begin{bmatrix} 1 & 0 \\ -3 & 1 \end{bmatrix}
$$

$$
(E_3 E_2) E_1 = \begin{bmatrix} 1 & 0 \\ -3 & 1 \end{bmatrix}
\begin{bmatrix} 1 & 0 \\ -2 & 1 \end{bmatrix}
= \begin{bmatrix} 1 & 0 \\ -5 & 1 \end{bmatrix}
$$

**Вариант 2**: $E_3 (E_2 E_1)$
$$
E_2 E_1 = \begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix}
\begin{bmatrix} 1 & 0 \\ -2 & 1 \end{bmatrix}
= \begin{bmatrix} 1 & 0 \\ -2 & 1 \end{bmatrix}
$$

$$
E_3 (E_2 E_1) = \begin{bmatrix} 1 & 0 \\ -3 & 1 \end{bmatrix}
\begin{bmatrix} 1 & 0 \\ -2 & 1 \end{bmatrix}
= \begin{bmatrix} 1 & 0 \\ -5 & 1 \end{bmatrix}
$$

**Результат**: $(E_3 E_2) E_1 = E_3 (E_2 E_1)$ ✓

### Геометрическая интерпретация

Композиция преобразований в $\mathbb{R}^2$:
- $C$: поворот на $30°$;
- $B$: растяжение в 2 раза;
- $A$: отражение относительно оси $x$.

Применяя к вектору $v$:
$$
(AB)C \cdot v = \text{сначала повернуть, затем растянуть и отразить}
$$
$$
A(BC) \cdot v = \text{та же последовательность, другая группировка вычислений}
$$

Результат **одинаковый** (ассоциативность), но порядок преобразований важен (некоммутативность).

---

## Источник

- Документ: [[Линейная алгебра и ее применения.pdf]]
- Раздел/страницы: § 1.3, стр. 28; § 1.4, стр. 32
- Ключевая цитата:
  
  > «Умножение матриц **ассоциативно**: $(AB)C = A(BC)$. Конечно, размеры этих матриц должны быть согласованы, чтобы их сумма имела смысл, а матрицы $B$ и $C$ должны иметь одинаковые размеры... для сложения и умножения на число матриц размера $m \times n$ требуется $lmn$ отдельных умножений».

---

## Вопросы

- Почему ассоциативность важна для существования обратной матрицы?
- Как ассоциативность связана с единственностью LU-разложения?
- Существуют ли операции над матрицами, которые не ассоциативны?
- Как ассоциативность обобщается на бесконечномерные операторы?
- Можно ли использовать ассоциативность для оптимизации порядка вычислений?