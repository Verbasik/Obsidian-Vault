## Суть

**Некоммутативность умножения матриц** — это фундаментальное свойство, означающее, что в общем случае порядок сомножителей **имеет значение**:

$$
AB \neq BA
$$

В отличие от умножения чисел, где $ab = ba$, для матриц перестановка множителей обычно даёт **разные** результаты. Это отражает тот факт, что композиция линейных преобразований зависит от порядка их применения.

Некоммутативность — ключевое отличие матричной алгебры от обычной арифметики и источник многих тонкостей в линейной алгебре.

---

## Детали

### Формулировка свойства

Для матриц $A, B \in \mathbb{R}^{n \times n}$ **в общем случае**:

$$
AB \neq BA
$$

**Важно**: Некоммутативность не означает, что $AB$ и $BA$ **всегда** различны — для некоторых специальных пар матриц они могут совпадать.

### Условия согласованности

Чтобы оба произведения $AB$ и $BA$ были определены и имели одинаковый размер, матрицы должны быть **квадратными одного порядка**.

Для прямоугольных матриц:
- Если $A$ — $m \times n$, $B$ — $n \times p$;
- То $AB$ — $m \times p$, а $BA$ может быть **не определено** или иметь размер $n \times n \neq m \times p$.

### Геометрический смысл

Композиция линейных преобразований **зависит от порядка**:

**Пример** в $\mathbb{R}^2$:
- $A$: поворот на $90°$ против часовой стрелки;
- $B$: отражение относительно оси $x$.

Применяя к вектору $v = \begin{bmatrix} 1 \\ 0 \end{bmatrix}$:

$AB \cdot v$: сначала отразить (остаётся $\begin{bmatrix} 1 \\ 0 \end{bmatrix}$), затем повернуть → $\begin{bmatrix} 0 \\ 1 \end{bmatrix}$

$BA \cdot v$: сначала повернуть ($\begin{bmatrix} 0 \\ 1 \end{bmatrix}$), затем отразить → $\begin{bmatrix} 0 \\ -1 \end{bmatrix}$

**Результаты различны**: $AB \neq BA$

### Когда матрицы коммутируют?

Существуют специальные случаи, когда $AB = BA$:

**1. Умножение на скаляр**: $(\lambda I) A = A (\lambda I)$ для любой $A$;

**2. Степени одной матрицы**: $A^m A^n = A^n A^m$;

**3. Диагональные матрицы**: Если $A$ и $B$ — диагональные, то $AB = BA$;

**4. Единичная матрица**: $AI = IA$ для любой $A$;

**5. Матрица и её обратная**: $AA^{-1} = A^{-1}A = I$;

**6. Матрица и её многочлен**: $p(A)$ коммутирует с $A$ для любого многочлена $p$.

### Последствия для алгебраических тождеств

Многие привычные тождества **не работают** для матриц:

**1. Формула квадрата суммы**:
$$
(A + B)^2 = A^2 + AB + BA + B^2 \neq A^2 + 2AB + B^2
$$
(если $AB \neq BA$)

**2. Разность квадратов**:
$$
(A + B)(A - B) = A^2 - AB + BA - B^2 \neq A^2 - B^2
$$

**3. Формула бинома Ньютона** не применима напрямую:
$$
(A + B)^n \neq \sum_{k=0}^n \binom{n}{k} A^k B^{n-k}
$$

### Некоммутативность в методе исключения

Порядок элементарных матриц **критически важен**:

$$
E_2 E_1 A \neq E_1 E_2 A
$$

в общем случае.

**Пример**: Пусть $E_1$ исключает элемент $(2,1)$, а $E_2$ — элемент $(3,1)$.

- $E_2 E_1 A$: сначала исключается $(2,1)$, **затем** $(3,1)$ — **правильный порядок**;
- $E_1 E_2 A$: сначала исключается $(3,1)$, затем $(2,1)$ — может дать **другой результат**.

Однако для элементарных матриц, действующих на **разные пары строк**, порядок может не иметь значения (частичная коммутативность).

---

## Примеры

### Классический пример некоммутативности

$$
A = \begin{bmatrix} 1 & 2 \\ 0 & 1 \end{bmatrix}, \quad
B = \begin{bmatrix} 1 & 0 \\ 3 & 1 \end{bmatrix}
$$

**Произведение $AB$**:
$$
AB = \begin{bmatrix} 1 & 2 \\ 0 & 1 \end{bmatrix}
\begin{bmatrix} 1 & 0 \\ 3 & 1 \end{bmatrix}
= \begin{bmatrix} 1 + 6 & 0 + 2 \\ 0 + 3 & 0 + 1 \end{bmatrix}
= \begin{bmatrix} 7 & 2 \\ 3 & 1 \end{bmatrix}
$$

**Произведение $BA$**:
$$
BA = \begin{bmatrix} 1 & 0 \\ 3 & 1 \end{bmatrix}
\begin{bmatrix} 1 & 2 \\ 0 & 1 \end{bmatrix}
= \begin{bmatrix} 1 + 0 & 2 + 0 \\ 3 + 0 & 6 + 1 \end{bmatrix}
= \begin{bmatrix} 1 & 2 \\ 3 & 7 \end{bmatrix}
$$

**Результат**: $AB \neq BA$ ✗

### Элементарные матрицы из книги

$$
E = \begin{bmatrix} 1 & 0 & 0 \\ -2 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix}, \quad
F = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 3 & 1 \end{bmatrix}
$$

**Произведение $EF$**:
$$
EF = \begin{bmatrix} 1 & 0 & 0 \\ -2 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix}
\begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 3 & 1 \end{bmatrix}
= \begin{bmatrix} 1 & 0 & 0 \\ -2 & 1 & 0 \\ 0 & 3 & 1 \end{bmatrix}
$$

**Произведение $FE$**:
$$
FE = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 3 & 1 \end{bmatrix}
\begin{bmatrix} 1 & 0 & 0 \\ -2 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix}
= \begin{bmatrix} 1 & 0 & 0 \\ -2 & 1 & 0 \\ -6 & 3 & 1 \end{bmatrix}
$$

**Результат**: $EF \neq FE$ ✗

Здесь порядок операций исключения действительно важен: $E$ изменяет вторую строку, $F$ — третью, но $F$ использует вторую строку, которая уже изменена $E$ в произведении $FE$.

### Пример коммутирующих матриц

**Диагональные матрицы**:
$$
D_1 = \begin{bmatrix} 2 & 0 \\ 0 & 3 \end{bmatrix}, \quad
D_2 = \begin{bmatrix} 5 & 0 \\ 0 & 7 \end{bmatrix}
$$

$$
D_1 D_2 = \begin{bmatrix} 10 & 0 \\ 0 & 21 \end{bmatrix} = D_2 D_1 \quad \checkmark
$$

**Матрица и единичная**:
$$
AI = \begin{bmatrix} 1 & 2 \\ 3 & 4 \end{bmatrix}
\begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix}
= \begin{bmatrix} 1 & 2 \\ 3 & 4 \end{bmatrix}
= IA \quad \checkmark
$$

### Последствие: $(A+B)^2 \neq A^2 + 2AB + B^2$

$$
A = \begin{bmatrix} 1 & 0 \\ 0 & 0 \end{bmatrix}, \quad
B = \begin{bmatrix} 0 & 1 \\ 0 & 0 \end{bmatrix}
$$

**Левая часть**:
$$
A + B = \begin{bmatrix} 1 & 1 \\ 0 & 0 \end{bmatrix}, \quad
(A+B)^2 = \begin{bmatrix} 1 & 1 \\ 0 & 0 \end{bmatrix}
\begin{bmatrix} 1 & 1 \\ 0 & 0 \end{bmatrix}
= \begin{bmatrix} 1 & 1 \\ 0 & 0 \end{bmatrix}
$$

**Правая часть**:
$$
A^2 = \begin{bmatrix} 1 & 0 \\ 0 & 0 \end{bmatrix}, \quad
B^2 = \begin{bmatrix} 0 & 0 \\ 0 & 0 \end{bmatrix}, \quad
AB = \begin{bmatrix} 0 & 1 \\ 0 & 0 \end{bmatrix}
$$

$$
A^2 + 2AB + B^2 = \begin{bmatrix} 1 & 0 \\ 0 & 0 \end{bmatrix}
+ \begin{bmatrix} 0 & 2 \\ 0 & 0 \end{bmatrix}
+ \begin{bmatrix} 0 & 0 \\ 0 & 0 \end{bmatrix}
= \begin{bmatrix} 1 & 2 \\ 0 & 0 \end{bmatrix}
$$

**Результат**: $(A+B)^2 \neq A^2 + 2AB + B^2$ ✗

---

## Источник

- Документ: [[Линейная алгебра и ее применения.pdf]]
- Раздел/страницы: § 1.3, стр. 28
- Ключевая цитата:
  
  > «Умножение матриц **не коммутативно**, т. е., **как правило**, $FE \neq EF$. Если $C$ окажется вектором (иначе говоря, матрицей только с одним столбцом), то это свойство совпадает с (7), которое было основой введённого нами правила умножения матриц».

---

## Вопросы

- Существуют ли критерии, позволяющие быстро определить, коммутируют ли две матрицы?
- Как некоммутативность влияет на возможность диагонализации матриц?
- Можно ли построить алгебру коммутирующих матриц?
- Как обобщается понятие коммутативности на бесконечномерные операторы?
- Какова связь между коммутативностью и одновременной диагонализуемостью матриц?