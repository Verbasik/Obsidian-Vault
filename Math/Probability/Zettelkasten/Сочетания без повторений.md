## Суть

**Сочетания без повторений** — это число способов выбрать $n$ различных элементов из множества размера $M$ **без учёта порядка**, когда каждый элемент может быть выбран не более одного раза.

Обозначение: $C_M^n$ или $\binom{M}{n}$

Формула: $$C_M^n = \frac{M!}{n!(M-n)!} = \frac{M(M-1)\cdots(M-n+1)}{n!} = \frac{(M)_n}{n!}$$

---

## Детали

### Определение через выборки

В задаче выбора $n$ шаров из урны с $M$ шарами:

- **Выборка**: без возвращения (извлечённый шар не возвращается);
- **Порядок**: не учитывается (выборки $[1,2,3]$ и $[3,1,2]$ одинаковы).

Пространство исходов: $$\Omega = {[\alpha_1, \ldots, \alpha_n] : \alpha_k \neq \alpha_l \text{ при } k \neq l, ; \alpha_i \in {1,\ldots,M}}$$

Число исходов: $N(\Omega) = C_M^n$

### Вывод формулы

**Связь с размещениями**:

Из неупорядоченного набора $[\alpha_1, \ldots, \alpha_n]$ можно получить ровно $n!$ упорядоченных наборов (перестановок).

Поскольку число размещений без повторений $(M)_n = M(M-1)\cdots(M-n+1)$, имеем:

$$C_M^n \cdot n! = (M)_n$$

Откуда: $$C_M^n = \frac{(M)_n}{n!} = \frac{M!}{n!(M-n)!}$$

### Альтернативные названия

- **Биномиальные коэффициенты** — из разложения бинома Ньютона: $$(x+y)^M = \sum_{n=0}^M C_M^n x^n y^{M-n}$$
- **"Число сочетаний из $M$ по $n$"** — русскоязычная терминология;
- **Combinations** — англоязычная терминология: "$M$ choose $n$".

### Свойства

1. **Симметрия**: $C_M^n = C_M^{M-n}$;
2. **Граничные значения**:
    - $C_M^0 = 1$ (один способ выбрать 0 элементов);
    - $C_M^1 = M$ (выбрать один элемент из $M$);
    - $C_M^M = 1$ (выбрать все элементы).

3. **Рекуррентное соотношение** (основа треугольника Паскаля): $$C_M^n = C_{M-1}^{n-1} + C_{M-1}^n$$
    **Смысл**: элемент $M$ либо входит в выборку (тогда выбираем $n-1$ из оставшихся $M-1$), либо не входит (выбираем $n$ из $M-1$).

4. **Сумма**: $$\sum_{n=0}^M C_M^n = 2^M$$
    **Смысл**: общее число подмножеств множества из $M$ элементов.

---

## Примеры

### Пример 1: Выбор комитета

Из группы 10 человек нужно выбрать комитет из 3 человек. Сколько способов?

$$C_{10}^3 = \frac{10!}{3! \cdot 7!} = \frac{10 \cdot 9 \cdot 8}{3 \cdot 2 \cdot 1} = \frac{720}{6} = 120$$

### Пример 2: Лотерея

В лотерее 36 билетов, из них 6 выигрышных. Покупаем 5 билетов. Вероятность ровно 2 выигрышных?

- Способов выбрать 2 выигрышных из 6: $C_6^2 = 15$;
- Способов выбрать 3 невыигрышных из 30: $C_{30}^3 = 4060$;
- Всего способов выбрать 5 билетов: $C_{36}^5 = 376992$.

$$P(\text{ровно 2 выигрышных}) = \frac{C_6^2 \cdot C_{30}^3}{C_{36}^5} = \frac{15 \cdot 4060}{376992} \approx 0.1616$$

### Пример 3: Задача о рукопожатиях

На встрече $n$ человек. Каждый пожал руку каждому ровно один раз. Сколько всего рукопожатий?

Каждое рукопожатие — это выбор 2 человек из $n$:

$$\text{Число рукопожатий} = C_n^2 = \frac{n(n-1)}{2}$$

### Пример 4: Статистика Ферми-Дирака

Размещение $n$ неразличимых фермионов по $M$ квантовым состояниям, не более одной частицы в состоянии.

Число способов: $C_M^n$ (выбираем $n$ состояний из $M$ для заполнения)

---

## Источник

- Документ: [[Вероятность.pdf]]
- Раздел/страницы: §1, п. 2, стр. 25–26; Таблица 1, стр. 26
- Ключевая цитата:
    
    > «Действительно, из неупорядоченного набора $[\alpha_1, \ldots, \alpha_n]$, состоящего из различных элементов, можно получить ровно $n!$ упорядоченных наборов. Следовательно, $N(\Omega) \cdot n! = (M)_n$ и, значит, $N(\Omega) = \frac{(M)_n}{n!} = C_M^n$».
    

---

## Вопросы

- Почему $C_M^n = C_M^{M-n}$? Какая комбинаторная интерпретация у этого равенства?
- Как связаны сочетания и биномиальное распределение?
- Можно ли обобщить формулу на случай $M < n$ или нецелые $M, n$?
- Как эффективно вычислять $C_M^n$ для больших $M$ и $n$?
- Почему сочетания появляются в разложении бинома Ньютона?