## Суть

**Неравенство Буля** (или **субаддитивность**) утверждает, что вероятность объединения событий не превосходит суммы их вероятностей.

Для двух событий: $$ P(A \cup B) \leq P(A) + P(B) $$

Для n событий: $$ P\left(\bigcup_{i=1}^n A_i\right) \leq \sum_{i=1}^n P(A_i) $$

Равенство достигается только для **попарно несовместных** событий.

---

## Детали

### Формулировка для двух событий

**Утверждение**: $$ P(A \cup B) \leq P(A) + P(B) $$

**Доказательство**: Из формулы включений-исключений: $$ P(A \cup B) = P(A) + P(B) - P(A \cap B) $$

Так как $P(A \cap B) \geq 0$, то: $$ P(A \cup B) \leq P(A) + P(B) $$

**Равенство**: $P(A \cup B) = P(A) + P(B)$ тогда и только тогда, когда $A \cap B = \emptyset$ (события несовместны).

### Общая формулировка

**Теорема** (неравенство Буля): Для произвольных событий $A_1, \ldots, A_n$: $$ P\left(\bigcup_{i=1}^n A_i\right) \leq \sum_{i=1}^n P(A_i) $$

**Доказательство** (индукцией): База: для n=2 доказано выше.

Шаг индукции: Пусть верно для n. Докажем для n+1: $$ P\left(\bigcup_{i=1}^{n+1} A_i\right) = P\left(\left(\bigcup_{i=1}^n A_i\right) \cup A_{n+1}\right) \leq P\left(\bigcup_{i=1}^n A_i\right) + P(A_{n+1}) $$

По предположению индукции: $$ P\left(\bigcup_{i=1}^n A_i\right) \leq \sum_{i=1}^n P(A_i) $$

Следовательно: $$ P\left(\bigcup_{i=1}^{n+1} A_i\right) \leq \sum_{i=1}^{n+1} P(A_i) $$

### Интерпретация

Неравенство Буля показывает, что при простом сложении вероятностей мы **переоцениваем** вероятность объединения, если события пересекаются.

Переоценка происходит из-за того, что пересечения учитываются многократно.

### Применения

1. **Верхние оценки**: Когда точное вычисление $P(\bigcup A_i)$ сложно, неравенство даёт простую верхнюю границу;
2. **Проверка корректности**: Если получили $P(\bigcup A_i) > \sum P(A_i)$, значит ошибка в вычислениях;
3. **Теория надёжности**: Оценка вероятности отказа системы;
4. **Union bound** в информатике и статистике.

### Обобщение: счётная субаддитивность

Для счётного числа событий: $$ P\left(\bigcup_{i=1}^\infty A_i\right) \leq \sum_{i=1}^\infty P(A_i) $$

Это свойство σ-субаддитивности важно в общей теории вероятностей.

---

## Примеры

**Пример 1**: Бросок кости

$A = {1, 2, 3}$, $P(A) = 1/2$

$B = {2, 4, 6}$, $P(B) = 1/2$

$A \cup B = {1, 2, 3, 4, 6}$, $P(A \cup B) = 5/6$

Проверка неравенства: $$ \frac{5}{6} < 1 = \frac{1}{2} + \frac{1}{2} $$

Неравенство **строгое**, так как $A \cap B = {2} \neq \emptyset$.


**Пример 2**: Несовместные события

$A = {1, 2}$, $B = {5, 6}$

$A \cap B = \emptyset$ — несовместны

$P(A \cup B) = 4/6 = 2/3$

$P(A) + P(B) = 2/6 + 2/6 = 2/3$

$$ P(A \cup B) = P(A) + P(B) $$

Равенство! ✓


**Пример 3**: Три события

$A_1 = {1, 2}$, $A_2 = {2, 3}$, $A_3 = {3, 4}$

$P(A_i) = 1/3$ для всех i

$A_1 \cup A_2 \cup A_3 = {1, 2, 3, 4}$, $P = 2/3$

По неравенству Буля: $$ P(A_1 \cup A_2 \cup A_3) \leq P(A_1) + P(A_2) + P(A_3) = 1 $$

$$ \frac{2}{3} < 1 $$ 

**Пример 4**: Оценка вероятности хотя бы одного события

Эксперимент повторяется n раз. Событие $A_i$ — «ошибка на i-м шаге».

$P(A_i) = p$ для всех i.

Вероятность хотя бы одной ошибки: $$ P\left(\bigcup_{i=1}^n A_i\right) \leq \sum_{i=1}^n P(A_i) = np $$

Это верхняя оценка. Точное значение зависит от зависимости событий.


**Пример 5**: Проверка корректности

Студент вычислил:

- $P(A) = 0.6$
- $P(B) = 0.5$
- $P(A \cup B) = 1.2$

Проверка по неравенству Буля: $$ P(A \cup B) \leq P(A) + P(B) = 0.6 + 0.5 = 1.1 $$

Но $1.2 > 1.1$ — **противоречие**!

Более того, $P(A \cup B) > 1$ вообще невозможно.

Ошибка в вычислениях! ✗

---

## Источник

- Документ: [[Вероятность.pdf]]
- Раздел/страницы: § 1, Задача 3, стр. 37
- Ключевая цитата:
    > «Доказать, что для любой конечной системы множеств $A_1, \ldots, A_n$: $P(A_1 \cup ... \cup A_n) \leq P(A_1) + ... + P(A_n)$».

---

## Вопросы

- Когда неравенство Буля превращается в равенство?
- Насколько грубой является оценка через неравенство Буля?
- Существуют ли более точные верхние оценки для $P(\bigcup A_i)$?
- Как связано неравенство Буля с формулой включений-исключений?